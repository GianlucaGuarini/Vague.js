!function(a,b,c){"use strict";var d={filterId:0},e=c("body"),f=function(f,g){var h,i,j,k={intensity:5,forceSVGUrl:!1,animationOptions:{duration:1e3,easing:"linear"}},l=c.extend(k,g),m=" -webkit- -moz- -o- -ms- ".split(" "),n={},o=function(a){if(n[a]||""===n[a])return n[a]+a;var c=b.createElement("div"),d=["","Moz","Webkit","O","ms","Khtml"];for(var e in d)if("undefined"!=typeof c.style[d[e]+a])return n[a]=d[e],d[e]+a;return a.toLowerCase()},p={cssfilters:function(){var a=b.createElement("div");return a.style.cssText=m.join("filter:blur(2px); "),!!a.style.length&&(void 0===b.documentMode||b.documentMode>9)}(),svgfilters:function(){var a=!1;try{a=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(b){}return a}()},q=!1,r=o("Filter"),s=function(a){return b.createElementNS("http://www.w3.org/2000/svg",a)},t=function(){var a=s("svg"),b=s("filter");h=s("feGaussianBlur"),a.setAttribute("style","position:absolute"),a.setAttribute("width","0"),a.setAttribute("height","0"),b.setAttribute("id","blur-effect-id-"+d.filterId),b.appendChild(h),a.appendChild(b),e.append(a)};return this.$elm=f instanceof c?f:c(f),this.init=function(){return p.svgfilters&&t(),i=d.filterId,d.filterId++,this},this.blur=function(){var b,c=a.location,d=l.forceSVGUrl?c.protocol+"//"+c.host+c.pathname+c.search:"";return p.cssfilters?b="blur("+l.intensity+"px)":p.svgfilters?(h.setAttribute("stdDeviation",l.intensity),b="url("+d+"#blur-effect-id-"+i+")"):b="progid:DXImageTransform.Microsoft.Blur(pixelradius="+l.intensity+")",this.$elm[0].style[r]=b,q=!0,this},this.animate=function(a,b){if("number"!=typeof a)throw typeof a+" is not a valid number to animate the blur";if(0>a)throw"I can animate only positive numbers";var d=new c.Deferred;return j&&j.stop(!0,!0),j=new c.Animation(l,{intensity:a},c.extend(l.animationOptions,b)).progress(c.proxy(this.blur,this)).done(d.resolve),d.promise()},this.unblur=function(){return this.$elm.css(r,"none"),q=!1,this},this.toggleblur=function(){return q?this.unblur():this.blur(),this},this.destroy=function(){p.svgfilters&&c("filter#blur-effect-id-"+i).parent().remove(),this.unblur();for(var a in this)delete this[a];return this},this.init()};c.fn.vague=function(a){return new f(this,a)}}(window,document,jQuery);